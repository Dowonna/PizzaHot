<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        table{
            border-collapse: collapse;
        }
    </style>
    <title>Drama</title>
</head>

<body>
    <h1>이태원 클라쓰!!</h1>

    등장인물<br>
    <button onclick="tab(0)">주요인물</button>
    <button onclick="tab(1)">꿀밤</button>
    <button onclick="tab(2)">장가</button>
    <br><br>

    <div>
        <div class="tabTest"><table id="people" border="1"></table></div>
        <div class="tabTest">
            <table border="1">
                <tr><td>최승권</td><td>30세</td></tr>
                <tr><td>마현이</td><td>24세</td></tr>
                <tr><td>김토니</td><td>27세</td></tr>
            </table>
        </div>
        <div class="tabTest">
            <table border="1">
                <tr><td>장근수</td><td>25세</td></tr>
                <tr><td>장근원</td><td>29세</td></tr>
                <tr><td>강민정</td><td>50세</td></tr>
            </table>
        </div>
    </div>
    

    <br>
    10년의 세월이 지났다.<br>
    <button onclick="timeMachine()">타임머신</button>

    <br><br>
    꿀밤 알바 지원자
    <table id="candidate" border="1"></table>

    <br>
    알바생 추가<br>
    이름 : 
    <input type="text", id="newName"><br>
    나이 : 
    <input type="text", id="newAge">
    <button onclick="addCand()">입력</button><br>


    <br>
    제한 나이 입력<br>
    <input type="text", id="ageSt">
    <button onclick="hire()">입력</button>

    <br><br>
    꿀밤 알바 합격자
    <table id="alba" border="1"></table>

    <br><br>
    꿀밤 주가총액 : <span id = "ggul"></span><br>
    장가 주가총액 : <span id = "jang"></span>

    <br>
    꿀밤 승!

    <script>
        
        let p1 = {name:"박새로이", age:19}, p2 = {name:"조이서", age:11};
        let arr = [p1, p2];
        createTable("people", arr);

        let arr2 = [];
        
        let f3 = (total, value) => total + value;
        let arr3 = [100, 230, 205, 230, 102], arr4 = [12, 23, 32, 25, 35];
        let average1 = arr3.reduce(f3);
        let average2 = arr4.reduce(f3);
        document.getElementById("ggul").innerHTML= average1;
        document.getElementById("jang").innerHTML= average2;

        function createTable(id, array){
            document.getElementById(id).innerHTML = "";
            array.forEach(element => {
                document.getElementById(id).innerHTML +=
                "<tr><td>" +element.name + "</td> <td>" + element.age +"세</td></tr>";
            });
        }

        // eslint-disable-next-line no-unused-vars
        function timeMachine(){
            arr = arr.map((value) => {
                return {name:value.name, age: value.age + 10};
            });

            document.getElementById("people").innerHTML = "";
            createTable("people", arr);
        }

        // eslint-disable-next-line no-unused-vars
        function hire(){
            let age = document.getElementById("ageSt").value;
            if (!isNaN(age)){
                let arr3 = arr2.filter((value) => value.age <=age);
                createTable("alba", arr3);
            }
        }

        // eslint-disable-next-line no-unused-vars
        function addCand(){
            let newName = document.getElementById("newName").value;
            let newAge = document.getElementById("newAge").value;
            if (!isNaN(newAge) && isNaN(newName)){
                arr2.push({name:newName, age:newAge});
                document.getElementById("candidate").innerHTML +=
                "<tr><td>" +newName + "</td> <td>" + newAge +"</td></tr>";
            }
            document.getElementById("newName").value="";
            document.getElementById("newAge").value="";
        }

        // eslint-disable-next-line no-unused-vars
        function tab(num){
            let arr = document.getElementsByClassName("tabTest");
            for (let index = 0; index < arr.length; index++) {
                arr[index].style.display = "none";
                
            }
            arr[num].style.display = "block";
        }

        tab(0);
    </script>
    
</body>
</html>

<!--
    1. 소재 - 드라마
    2. 시나리오 구성
    3. 제약조건
        1. Array의 map, forEach, filter, reduce 사용 필수
    4. 질문~~~
-->